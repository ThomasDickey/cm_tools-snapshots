<!OPS, Version = 6.4>

<!Document,
	Default Printer	="cx",
	Final Output Device	="cx">

<!Font Definitions,
	F21	=Typewriter 10,
	F27	=Classic 10,
	F30	=Classic 12,
	F31	=Classic 12 Bold,
	F32	=Classic 12 Italic,
	F34	=Classic 14 Bold,
	F49	=Modern 12,
	F84	=Thames 10>

<!Page,
	Starting Page # = 	Inherit>

<!Autonumber Stream, List, 2>

<!Autonumber Stream, Outline, 3>

<!Autonumber Stream, section, 2,
	Level 1 Suffix	=,
	Level 2 Prefix	=.,
	Level 2 Suffix	=>

<!Class, bullet,
	Bottom Margin	=0 Inches,
	First Indent	=-0.25 Inches,
	Font	=F30,
	Left Margin	=0.50 Inches,
	Top Margin	=0.083 Inches>

<!Class, caption,
	Bottom Margin	=0.07 Inches,
	Font	=F30,
	Line Spacing	=1.100 Lines,
	Top Margin	=0.07 Inches>

<!Class, fixed,
	Alignment	=Left,
	Allow Page Break Within	=No,
	Bottom Margin	=0.083 Inches,
	Font	=F21,
	Hyphenation	=Off,
	Left Margin	=0.50 Inches,
	Left Tab	=0/0.64*10 Inches,
	Line Spacing	=1.308 Lines,
	Right Margin	=-1 Inches,
	Top Margin	=0.083 Inches>

<!Class, footnote,
	Bottom Margin	=0.07 Inches,
	First Indent	=-0.25 Inches,
	Font	=F30,
	Left Margin	=0.25 Inches,
	Line Spacing	=1.100 Lines,
	Top Margin	=0.07 Inches>

<!Class, header,
	Alignment	=Left,
	Allow Page Break After	=No,
	Allow Page Break Within	=No,
	Bottom Margin	=0 Inches,
	Font	=F34,
	Top Margin	=0.193 Inches>

<!Class, options,
	Allow Page Break Within	=No,
	Bottom Margin	=0 Inches,
	First Indent	=-1 Inches,
	Font	=F30,
	Hyphenation	=Off,
	Left Margin	=1.50 Inches,
	Left Tab	=0/0.75/1.50 Inches,
	Top Margin	=0.042 Inches>

<!Class, paragraph,
	Bottom Margin	=0 Inches,
	Font	=F30,
	Left Margin	=0.25 Inches,
	Top Margin	=0.083 Inches>

<!Class, subheader,
	Alignment	=Left,
	Allow Page Break After	=No,
	Allow Page Break Within	=No,
	Bottom Margin	=0 Inches,
	Font	=F31,
	Left Margin	=0.25 Inches,
	Top Margin	=0.097 Inches>

<!Class, suboption,
	Allow Page Break Within	=No,
	Bottom Margin	=0 Inches,
	First Indent	=-1 Inches,
	Font	=F30,
	Hyphenation	=Off,
	Left Margin	=2.50 Inches,
	Left Tab	=0/0.75/1.50 Inches,
	Top Margin	=0.042 Inches>

<!Master Frame,
	Name =			"At Anchor",
	Placement =		At Anchor,
	Vertical Alignment =	Bottom + 0.03 Inches,
	Width =			0.41 Inches,
	Height =		0.137 Inches,
	Diagram =
V6,
(g9,0,0
 (E15,0,0,5,1,1,0.053333,1,15,0,0,1,0,0,0,0,5,127,7,0,0,7,1,1,1,0.066667,0.06666
  7,6,6,0,0.066667,6))>

<!Master Frame,
	Name =			"Following Anchor",
	Placement =		Following Anchor,
	Horizontal Alignment =	Center,
	Width =			5.70 Inches,
	Height =		2.85 Inches,
	Diagram =
V6,
(g9,0,0
 (E15,0,0,5,1,1,0.053333,1,15,0,0,1,0,0,0,0,5,127,7,0,0,7,1,1,1,0.066667,0.06666
  7,6,6,0,0.066667,6))>

<!Master Frame,
	Name =			"Following Text",
	Placement =		Following Text,
	Horizontal Alignment =	Center,
	Width =			5.70 Inches,
	Height =		2.85 Inches,
	Diagram =
V6,
(g9,0,0
 (E15,0,0,5,1,1,0.053333,1,15,0,0,1,0,0,0,0,5,127,7,0,0,7,1,1,1,0.066667,0.06666
  7,6,6,0,0.066667,6))>

<!Master Frame,
	Name =			Bottom,
	Placement =		Bottom Of Page,
	Horizontal Alignment =	Center,
	Width =			5.70 Inches,
	Height =		2.85 Inches,
	Diagram =
V6,
(g9,0,0
 (E15,0,0,5,1,1,0.053333,1,15,0,0,1,0,0,0,0,5,127,7,0,0,7,1,1,1,0.066667,0.06666
  7,6,6,0,0.066667,6))>

<!Master Frame,
	Name =			Footnote,
	Placement =		Bottom Of Page,
	Horizontal Alignment =	Left,
	Same Page =		Yes,
	Width =			5.70 Inches,
	Height =		0.204 Inches,
	Diagram =
V6,
(g9,0,0
 (E15,0,0,5,1,1,0.053333,1,15,0,0,1,0,0,0,0,5,127,7,0,0,7,1,1,1,0.066667,0.06666
  7,6,6,0,0.066667,6))>

<!Master Frame,
	Name =			Top,
	Placement =		Top Of Page,
	Horizontal Alignment =	Center,
	Width =			5.70 Inches,
	Height =		2.85 Inches,
	Diagram =
V6,
(g9,0,0
 (E15,0,0,5,1,1,0.053333,1,15,0,0,1,0,0,0,0,5,127,7,0,0,7,1,1,1,0.066667,0.06666
  7,6,6,0,0.066667,6))>

<Page Header, Frame =
V6,
(g9,1,0
 (t14,1,4,5.698608,0.438782,2,7,0,0,,wst:clas12b,June\ 15\,\ 1989)
 (t14,2,4,2.849304,0.438782,1,7,0,0,,wst:clas12b,RCS\ Directory-Level\ Permissio
  ns)
 (t14,3,4,0,0.438782,0,7,0,0,,wst:clas12b,permit)
 (E15,0,0,5,1,1,0.053333,1,15,0,0,1,0,0,0,1,5,127,7,0,0,7,1,1,1,0.066667,0.06666
  7,6,6,0,0.066667,6))>

<Page Footer, Frame =
V6,
(g9,1,0
 (t14,1,4,5.698608,0.478772,2,7,0,0,,wst:clas10,)
 (t14,2,4,2.849304,0.478772,1,7,0,0,,wst:clas12b,-\ \X80a0\ -)
 (t14,3,4,0,0.478772,0,7,0,0,,wst:clas10,)
 (E15,0,0,5,1,1,0.053333,1,15,0,0,1,0,0,0,0,5,127,7,0,0,7,1,1,1,0.066667,0.06666
  7,6,6,0,0.066667,6))>

<header>

NAME

<paragraph>

<F31>permit<F0> <#1f> RCS directory-level permissions

<header>

USAGE

<paragraph>

<F31>permit<F32> [options] [directory-specifications]

<header>

SYNOPSIS

<paragraph>

<F31>Permit<F0> maintains a special-purpose RCS archive in each RCS 
directory in a tree of files.  The special archive records the access 
list for users who are allowed to use the <F31>checkin<F0> and <F31>checkout
<F0> utilities to place locks on archives in the corresponding directories, 
as well as the initial revision number for new files.

<header>

DESCRIPTION

<paragraph>

<F31>Permit<F0> scans each directory-tree given as an argument.  
If no argument is given, <F31>permit<F0> processes the tree beginning 
with <#7f>.".

Each time an RCS directory is found, <F31>permit<F0> determines if 
the directory-access file exists.

If no directory-access file is found, <F31>permit<F0> scans through 
all other archives in the directory to infer the baseline version, 
and from that the initial revision number for new files which may 
be created in that directory.  Then, <F31>permit<F0> creates a directory 
access file.  By default, the RCS directory owner is on each access 
list <#1f> otherwise manipulating it is complicated.

Normally, <F31>permit<F0> issues <F31>rcs<F0> commands to add the 
directory owner to the access list of each archive.  The <#7f>-<F31>p<F0>" 
(purge) option is used to delete all usernames from the access lists.

<header>

OPTIONS

<options>

-<F31>a<F0> <F32>userlist<F0><Tab>adds the list of specified users 
to each RCS archive access list.

-<F31>b<F0> <F32>number<F0><Tab>specifies the baseline version 
for the directory.  This must be an integer greater than one.  <F31>Permit
<F0> verifies that no version in the directory is higher than this 
value.  Thereafter, this sets the initial version for new files which 
are archived using <F31>checkin<F0> in the directory.

-<F31>e<F0> <F32>userlist<F0><Tab>expunges the list of specified 
users to each RCS archive access list.

-<F31>m<F0> <F32>msg<F0><Tab>overrides <F31>permit<F0>'s default revision-log 
message <#7f><F49>BASELINE<F0><SP><F32>date<F0>" which is entered 
in the <F31>RCS,v<F0> file.

-<F31>n<F0><Tab>no-op mode causes <F31>permit<F0> to run, showing 
what it would try to do.

-<F31>p<F0><Tab>purges all usernames from each RCS archive 
access list.

-<F31>q<F0><Tab>makes the listing less verbose (i.e., suppresses 
display of the <F31>rcs<F0> and <F31>ci<F0> commands, and of the 
directory tree).

-<F31>s<F0><Tab>same as <#7f>-<F31>q<F0>".

-<F31>u<F0> <F32>userlist<F0><Tab>generates a report showing which 
archives have the specified users in their access lists.

-<F31>v<F0><Tab>makes the display more verbose; the names of files 
which cannot be opened are reported.

<header>

OPERATIONS

<paragraph>

An example of the use of <F31>permit<F0> is shown below.  The user 
has asked for a report showing what actions permit would make on the 
current directory tree.  The directory-access archives are not found, 
so <F31>permit<F0>  scans through each RCS archive to obtain the <F31>baseline
<F0> revision number:

<fixed>

bsd4.2(64) permit -n<HR>
** path = .<HR>
   1:<Tab>./<HR>
   2:<Tab>|-- RCS/<HR>
   3:<Tab>|---|-- 2.1 > COPYRIGHT,v (dickey,impact)<HR>
   4:<Tab>|---|-- 2.2 > Makefile,v (dickey,impact)<HR>
   5:<Tab>|---|-- 2.2 > README,v (dickey,impact)<HR>
   6:<Tab>|---|-- 2.1 > descrip.mms,v (dickey,impact)<HR>
ci -mPERMIT FILE -r2.1 ./RCS ./RCS,v <HR>
rcs -aimpact ./RCS,v <HR>
   7:<Tab>|-- certificate/<HR>
   8:<Tab>|---|-- RCS/<HR>
   9:<Tab>|---|---|-- 2.1 > Makefile,v (dickey,impact)<HR>
  10:<Tab>|---|---|-- 2.1 > config_sheet.txt,v (dickey,impact)<HR>
  11:<Tab>|---|---|-- 2.1 > descrip.mms,v (dickey,impact)<HR>
  12:<Tab>|---|---|-- 2.1 > release_notes.txt,v (dickey,impact)<HR>
...

<header>

ENVIRONMENT

<paragraph>

<F31>Permit<F0> is a C-language program which runs in a portable 
unix environment.

Environment variables include:

<options,
	Left Tab =		0/0.25 Inches>

<F49>RCS_DIR<F0><Tab>specifies the directory in which <F31>permit<F0> 
will find the <#7f>,v" files.  If not specified, <F31>permit<F0> 
assumes <#7f>RCS".

<header>

FILES

<paragraph>

<F31>Permit<F0> is a single binary file, <#7f>permit".  Within each 
RCS directory, <F31>permit<F0> maintains an archive <#7f><F31>RCS,v<F0>", 
which records the directory-access list, as 
well as the beginning revision number for new files.  The directory-acces
s archive file is named so that the set-uid applications <F31>checkin<F0> 
and <F31>checkout<F0> are unable to modify it.

<header>

ANTICIPATED CHANGES

<paragraph>

None.

<header>

SEE ALSO

<paragraph>

baseline, rcs<SP>(1), ci<SP>(1).

<header>

AUTHOR:

<paragraph>

Thomas Dickey (Software Productivity Consortium).

