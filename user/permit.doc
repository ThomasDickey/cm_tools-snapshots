<!OPS, Version = 5.2>

<!Document,
	Final Output Device =	"cx",
	Default Printer =	"cx">

<!Font Definitions,
	F27 = Classic 10,
	F30 = Classic 12,
	F21 = Typewriter 10,
	F34 = Classic 14 Bold,
	F31 = Classic 12 Bold,
	F32 = Classic 12 Italic,
	F49 = Modern 12>

<!Page,
	Starting Page # = 	Inherit>

<!Autonumber Stream, List, 2>

<!Autonumber Stream, Outline, 3>

<!Autonumber Stream, section, 2,
	Level 1 Suffix =	,
	Level 2 Prefix =	.,
	Level 2 Suffix =	>

<!Class, bullet,
	Top Margin =		0.083 inches,
	Bottom Margin =		0 inches,
	Left Margin =		0.50 inches,
	First Indent =		-0.25 inches,
	Font =			F30>

<!Class, caption,
	Top Margin =		0.07 inches,
	Bottom Margin =		0.07 inches,
	Line Spacing =		1.100 lines,
	Font =			F30>

<!Class, fixed,
	Top Margin =		0.083 inches,
	Bottom Margin =		0.083 inches,
	Left Margin =		0.50 inches,
	Right Margin =		-1 inches,
	Line Spacing =		1.308 lines,
	Alignment =		Left,
	Font =			F21,
	Hyphenation =		off,
	Allow Page Break Within = no,
	Left Tab =		0/0.64*10 inches>

<!Class, footnote,
	Top Margin =		0.07 inches,
	Bottom Margin =		0.07 inches,
	Left Margin =		0.25 inches,
	First Indent =		-0.25 inches,
	Line Spacing =		1.100 lines,
	Font =			F30>

<!Class, header,
	Top Margin =		0.193 inches,
	Bottom Margin =		0 inches,
	Alignment =		Left,
	Font =			F34,
	Allow Page Break Within = no,
	Allow Page Break After = no>

<!Class, options,
	Top Margin =		0.042 inches,
	Bottom Margin =		0 inches,
	Left Margin =		1.50 inches,
	First Indent =		-1 inches,
	Font =			F30,
	Hyphenation =		off,
	Allow Page Break Within = no,
	Left Tab =		0/0.75/1.50 inches>

<!Class, paragraph,
	Top Margin =		0.083 inches,
	Bottom Margin =		0 inches,
	Left Margin =		0.25 inches,
	Font =			F30>

<!Class, subheader,
	Top Margin =		0.097 inches,
	Bottom Margin =		0 inches,
	Left Margin =		0.25 inches,
	Alignment =		Left,
	Font =			F31,
	Allow Page Break Within = no,
	Allow Page Break After = no>

<!Class, suboption,
	Top Margin =		0.042 inches,
	Bottom Margin =		0 inches,
	Left Margin =		2.50 inches,
	First Indent =		-1 inches,
	Font =			F30,
	Hyphenation =		off,
	Allow Page Break Within = no,
	Left Tab =		0/0.75/1.50 inches>

<!Master Frame,
	Name =			"At Anchor",
	Placement =		At Anchor,
	Width =			0.41 inches,
	Height =		0.137 inches,
	Vertical Alignment =	0.03 inches,
	Diagram =
V4,
(g9,32767,0
 (E10,0,0,0,1,1,0.053333,1,15,0,0,1,0,0,0,0,1,1,1,0.066667,0.066667,6,6,0,0.066
  667,6))>

<!Master Frame,
	Name =			Bottom,
	Placement =		Bottom of Page,
	Horizontal Alignment =	Center,
	Width =			5.70 inches,
	Height =		2.85 inches,
	Diagram =
V4,
(g9,32767,0
 (E10,0,0,0,1,1,0.053333,1,15,0,0,1,0,0,0,0,1,1,1,0.066667,0.066667,6,6,0,0.066
  667,6))>

<!Master Frame,
	Name =			"Following Anchor",
	Placement =		Following Anchor,
	Horizontal Alignment =	Center,
	Width =			5.70 inches,
	Height =		2.85 inches,
	Diagram =
V4,
(g9,32767,0
 (E10,0,0,0,1,1,0.053333,1,15,0,0,1,0,0,0,0,1,1,1,0.066667,0.066667,6,6,0,0.066
  667,6))>

<!Master Frame,
	Name =			"Following Text",
	Placement =		Following Text,
	Horizontal Alignment =	Center,
	Width =			5.70 inches,
	Height =		2.85 inches,
	Diagram =
V4,
(g9,32767,0
 (E10,0,0,0,1,1,0.053333,1,15,0,0,1,0,0,0,0,1,1,1,0.066667,0.066667,6,6,0,0.066
  667,6))>

<!Master Frame,
	Name =			Footnote,
	Placement =		Bottom of Page,
	Horizontal Alignment =	Left,
	Same Page =		yes,
	Width =			5.70 inches,
	Height =		0.204 inches,
	Diagram =
V4,
(g9,32767,0
 (E10,0,0,0,1,1,0.053333,1,15,0,0,1,0,0,0,0,1,1,1,0.066667,0.066667,6,6,0,0.066
  667,6))>

<!Master Frame,
	Name =			Top,
	Placement =		Top of Page,
	Horizontal Alignment =	Center,
	Width =			5.70 inches,
	Height =		2.85 inches,
	Diagram =
V4,
(g9,32767,0
 (E10,0,0,0,1,1,0.053333,1,15,0,0,1,0,0,0,0,1,1,1,0.066667,0.066667,6,6,0,0.066
  667,6))>

<Page Header, Frame =
V4,
(g9,1,0
 (t8,1,4,5.698608,0.438782,2,17,@nnclas12b,April\ 3\,\ 1989)
 (t8,2,4,2.849304,0.438782,1,17,@nnclas12b,RCS\ Directory-Level\ Permissions)
 (t8,3,4,0,0.438782,0,17,@nnclas12b,permit)
 (E10,0,0,0,1,1,0.053333,1,15,0,0,1,0,0,0,1,1,1,1,0.066667,0.066667,6,6,0,0.066
  667,6))>

<Page Footer, Frame =
V4,
(g9,1,0
 (t8,1,4,5.698608,0.478772,2,17,@nnclas10,)
 (t8,2,4,2.849304,0.478772,1,17,@nnclas12b,-\ \240\ -)
 (t8,3,4,0,0.478772,0,17,@nnclas10,)
 (E10,0,0,0,1,1,0.053333,1,15,0,0,1,0,0,0,0,1,1,1,0.066667,0.066667,6,6,0,0.066
  667,6))>

<header>

<|,27>NAME

<paragraph>

<F31>permit<F0> <#1f> RCS directory-level permissions

<header>

USAGE

<paragraph>

<F31>permit<F32> [options] [directory-specifications]

<header>

SYNOPSIS

<paragraph>

<F31>Permit<F0> maintains a special-purpose RCS archive in each RCS 
directory in a tree of files.  The special archive records the access 
list for users who are allowed to use the <F31>checkin<F0> and <F31>checkout
<F0> utilities to place locks on archives in the corresponding directories, 
as well as the initial revision number for new files.

<header>

DESCRIPTION

<paragraph>

<F31>Permit<F0> scans each directory-tree given as an argument.  
If no argument is given, <F31>permit<F0> processes the tree beginning 
with <#7f>.".

Each time an RCS directory is found, <F31>permit<F0> determines if 
the directory-access file exists.

If no directory-access file is found, <F31>permit<F0> scans through 
all other archives in the directory to infer the baseline version, 
and from that the initial revision number for new files which may 
be created in that directory.  Then, <F31>permit<F0> creates a directory 
access file.  By default, the RCS directory owner is on each access 
list <#1f> otherwise manipulating it is complicated.

Normally, <F31>permit<F0> issues <F31>rcs<F0> commands to add the 
directory owner to the access list of each archive.  The <#7f>-<F31>p<F0>" 
(purge) option is used to delete all usernames from the access lists.

<header>

OPTIONS

<options>

-<F31>a<F0> <F32>userlist<F0><Tab>adds the list of specified users 
to each RCS archive access list.

<F30@R>-<F31@R>b<F30@R> <F32@R>number<F30@R><Tab>specifies the baseline version 
for the directory.  This must be an integer greater than one.  <F31@R>Permit
<F30@R> verifies that no version in the directory is higher than this 
value.  Thereafter, this sets the initial version for new files which 
are archived using <F31@R>checkin<F30@R> in the directory.

-<F31>e<F0> <F32>userlist<F0><Tab>expunges the list of specified 
users to each RCS archive access list.

-<F31>n<F0><Tab>no-op mode causes <F31>permit<F0> to run, showing 
what it would try to do.

<|,28>-<F31>p<F0><Tab>purges all usernames from each RCS archive 
access list.

-<F31>q<F0><Tab>makes the listing less verbose (i.e., suppresses 
display of the <F31>rcs<F0> and <F31>ci<F0> commands, and of the 
directory tree).

-<F31>s<F0><Tab>same as <#7f>-<F31>q<F0>".

-<F31>u<F0> <F32>userlist<F0><Tab>generates a report showing which 
archives have the specified users in their access lists.

-<F31>v<F0><Tab>makes the display more verbose; the names of files 
which cannot be opened are reported.

<header>

OPERATIONS

<paragraph>

An example of the use of <F31>permit<F0> is shown below.  The user 
has asked for a report showing what actions permit would make on the 
current directory tree.  The directory-access archives are not found, 
so <F31>permit<F0>  scans through each RCS archive to obtain the <F31>baseline
<F0> revision number:

<fixed>

bsd4.2(64) permit -n<HR>
** path = .<HR>
   1:<Tab>./<HR>
   2:<Tab>|-- RCS/<HR>
   3:<Tab>|---|-- 2.1 > COPYRIGHT,v (dickey,impact)<HR>
   4:<Tab>|---|-- 2.2 > Makefile,v (dickey,impact)<HR>
   5:<Tab>|---|-- 2.2 > README,v (dickey,impact)<HR>
   6:<Tab>|---|-- 2.1 > descrip.mms,v (dickey,impact)<HR>
ci -mPERMIT FILE -r2.1 ./RCS ./RCS,v <HR>
rcs -aimpact ./RCS,v <HR>
   7:<Tab>|-- certificate/<HR>
   8:<Tab>|---|-- RCS/<HR>
   9:<Tab>|---|---|-- 2.1 > Makefile,v (dickey,impact)<HR>
  10:<Tab>|---|---|-- 2.1 > config_sheet.txt,v (dickey,impact)<HR>
  11:<Tab>|---|---|-- 2.1 > descrip.mms,v (dickey,impact)<HR>
  12:<Tab>|---|---|-- 2.1 > release_notes.txt,v (dickey,impact)<HR>
...

<header>

ENVIRONMENT

<paragraph>

<F31>Permit<F0> is a C-language program which runs in a portable 
unix environment.

Environment variables include:

<options,
	Left Tab =		0/0.25 inches>

<F49>RCS_DIR<F0><Tab>specifies the directory in which <F31>permit<F0> 
will find the <#7f>,v" files.  If not specified, <F31>permit<F0> 
assumes <#7f>RCS".

<header>

FILES

<paragraph>

<F31>Permit<F0> is a single binary file, <#7f>permit".  Within each 
RCS directory, <F31>permit<F0> maintains an archive <#7f><F31>RCS,v<F0>", 
which records the directory-access list, as 
<|,29>well as the beginning revision number for new files.  The directory-acces
s archive file is named so that the set-uid applications <F31>checkin<F0> 
and <F31>checkout<F0> are unable to modify it.

<header>

ANTICIPATED CHANGES

<paragraph>

None.

<header>

SEE ALSO

<paragraph>

baseline, rcs<SP>(1), ci<SP>(1).

<header>

AUTHOR:

<paragraph>

Thomas Dickey (Software Productivity Consortium).

